<!---///  
© 2025 GENiALABILE. All Rights Reserved.  
A Bio-GPT Project—Designed by seiseisette.    
---
 2025 Copyright @seiseisette | x.com/seiseisette
---
Licensed under the Apache License, Version 2.0.
You may obtain a copy of the License at https://www.apache.org/licenses/LICENSE-2.0  
---
genialabile.com | DARK MODE x Utra-Minimalist Visual Landing Page   

cookie-banner.html
//-->


<!-- Sezione BANNER COOKIES -->
<div id="cookie-banner" class="cookie-popup cookie-container" aria-live="polite" role="alertdialog" aria-labelledby="cookie-banner-message" tabindex="0">
    <p id="cookie-banner-message">
        This website uses cookies to enhance your experience and analyze performance.
        <br>
        [<a href="/cookie-policy.html" style="font-weight: normal;">Cookie Policy</a>]
    </p>

    <div id="cookie-banner-content" class="cookie-popup">
        <p>
            This website uses cookies to enhance your experience and analyze performance.
            <a href="/cookie-policy.html" style="font-weight: normal;">Cookie Policy</a>.
        </p>
        <button id="decline-cookies" class="cookie-btn" onclick="allConsentDenied()" aria-label="Decline cookies">DECLINE</button>
        <button id="accept-cookies" class="cookie-bty" onclick="allConsentGranted()" aria-label="Accept cookies">ACCEPT</button>
    </div>
</div>

<script>
    const DEBUG = true;

    function hideBanner() {
        const banner = document.getElementById('cookie-banner');
        if (banner) {
            banner.style.display = 'none';
            try {
                document.cookie = "cookiesAccepted=true; path=/; max-age=" + 60 * 60 * 24 * 365; // 1 anno
                if (DEBUG) console.info("Banner nascosto e consenso salvato.");
            } catch (error) {
                console.error("Impossibile impostare il cookie:", error);
            }
        }
    }

    function checkCookies() {
        return document.cookie.includes("cookiesAccepted=true");
    }

    function addEventListenerToButton(buttonId, callback, actionName) {
        const button = document.getElementById(buttonId);
        if (button) {
            button.addEventListener('click', callback);
            if (DEBUG) console.info(`Event listener aggiunto al pulsante ${actionName}.`);
        } else {
            if (DEBUG) console.warn(`Pulsante ${actionName} non trovato.`);
        }
    }

    function initializeCookieBanner() {
        const banner = document.getElementById('cookie-banner');

        if (!navigator.cookieEnabled) {
            console.warn("I cookie sono disabilitati nel browser.");
            if (banner) {
                banner.innerHTML = `
                    <p>I cookie sono disabilitati nel tuo browser. Alcune funzionalità potrebbero non funzionare.</p>
                `;
            }
            return;
        }

        if (checkCookies()) {
            if (banner) {
                banner.style.display = 'none';
                if (DEBUG) console.info("Cookie già accettati. Banner nascosto.");
            }
        } else {
            addEventListenerToButton('accept-cookies', () => {
                hideBanner();
                if (typeof allConsentGranted === 'function') {
                    allConsentGranted();
                } else {
                    if (DEBUG) console.warn("Funzione allConsentGranted non trovata.");
                }
            }, "accettazione");

            addEventListenerToButton('decline-cookies', () => {
                hideBanner();
                if (typeof allConsentDenied === 'function') {
                    allConsentDenied();
                } else {
                    if (DEBUG) console.warn("Funzione allConsentDenied non trovata.");
                }
            }, "declino");

            if (!checkCookies() && banner) {
                setTimeout(() => banner.focus(), 100);
                if (DEBUG) console.info("Focus impostato sul banner dei cookie.");
            }
        }
    }

    document.addEventListener('DOMContentLoaded', initializeCookieBanner);
</script>
<!-- Sezione BANNER COOKIES -->
